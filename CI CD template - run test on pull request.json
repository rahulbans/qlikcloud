{"blocks":[{"id":"B3AB4364-C55A-48E3-B476-48B2BE422840","type":"StartBlock","x":100,"y":100,"disabled":false,"name":"OnNewPullRequest","displayName":"On New Pull Request","comment":"Run tests on Qlik Sense app and add results as comment to PR","childId":"41587A47-2825-457A-8CBD-BCD433DAC4C4","inputs":[{"id":"run_mode","value":"webhook","type":"select","structure":{}},{"id":"datasourcetype_guid","value":"0d87808f-27c0-11ea-921c-022e6b5ea1e2","type":"select","displayValue":"GitHub","structure":[]},{"id":"webhook_event_guid","value":"fa303a80-356d-11ec-9cbd-c3e60e70eb72","type":"select","displayValue":"On new pull request","structure":[]},{"id":"webhook_param_47774aa0-3572-11ec-8b6a-eb9703c4bc13","value":null,"type":"string","structure":[]},{"id":"webhook_param_ada65780-3e4e-11ec-bda0-bd1312668442","value":null,"type":"string","structure":[]},{"id":"test_payload","value":"{\n  \"action\": \"opened\",\n  \"number\": 2,\n  \"sender\": {\n    \"id\": 21031067,\n    \"login\": \"Codertocat\"\n  },\n  \"repository\": {\n    \"id\": 186853002,\n    \"url\": \"https://api.github.com/repos/Codertocat/Hello-World\",\n    \"fork\": false,\n    \"name\": \"Hello-World\",\n    \"size\": 0,\n    \"forks\": 0,\n    \"owner\": {\n      \"id\": 21031067,\n      \"login\": \"Codertocat\"\n    },\n    \"git_url\": \"git://github.com/Codertocat/Hello-World.git\",\n    \"license\": null,\n    \"node_id\": \"MDEwOlJlcG9zaXRvcnkxODY4NTMwMDI=\",\n    \"private\": false,\n    \"ssh_url\": \"git@github.com:Codertocat/Hello-World.git\",\n    \"svn_url\": \"https://github.com/Codertocat/Hello-World\",\n    \"archived\": false,\n    \"disabled\": false,\n    \"has_wiki\": true,\n    \"homepage\": null,\n    \"html_url\": \"https://github.com/Codertocat/Hello-World\",\n    \"language\": null,\n    \"watchers\": 0,\n    \"clone_url\": \"https://github.com/Codertocat/Hello-World.git\",\n    \"full_name\": \"Codertocat/Hello-World\",\n    \"has_pages\": true,\n    \"pushed_at\": \"2019-05-15T15:20:32Z\",\n    \"created_at\": \"2019-05-15T15:19:25Z\",\n    \"has_issues\": true,\n    \"mirror_url\": null,\n    \"updated_at\": \"2019-05-15T15:19:27Z\",\n    \"description\": null,\n    \"forks_count\": 0,\n    \"open_issues\": 2,\n    \"has_projects\": true,\n    \"has_downloads\": true,\n    \"default_branch\": \"master\",\n    \"watchers_count\": 0,\n    \"stargazers_count\": 0,\n    \"open_issues_count\": 2\n  },\n  \"pull_request\": {\n    \"id\": 279147437,\n    \"url\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2\",\n    \"base\": {\n      \"ref\": \"master\",\n      \"sha\": \"f95f852bd8fca8fcc58a9a2d6c842781e32a215e\",\n      \"repo\": {\n        \"id\": 186853002,\n        \"url\": \"https://api.github.com/repos/Codertocat/Hello-World\",\n        \"fork\": false,\n        \"name\": \"Hello-World\",\n        \"size\": 0,\n        \"forks\": 0,\n        \"owner\": {\n          \"id\": 21031067,\n          \"login\": \"Codertocat\"\n        },\n        \"git_url\": \"git://github.com/Codertocat/Hello-World.git\",\n        \"license\": null,\n        \"node_id\": \"MDEwOlJlcG9zaXRvcnkxODY4NTMwMDI=\",\n        \"private\": false,\n        \"ssh_url\": \"git@github.com:Codertocat/Hello-World.git\",\n        \"svn_url\": \"https://github.com/Codertocat/Hello-World\",\n        \"archived\": false,\n        \"disabled\": false,\n        \"has_wiki\": true,\n        \"homepage\": null,\n        \"html_url\": \"https://github.com/Codertocat/Hello-World\",\n        \"language\": null,\n        \"watchers\": 0,\n        \"clone_url\": \"https://github.com/Codertocat/Hello-World.git\",\n        \"full_name\": \"Codertocat/Hello-World\",\n        \"has_pages\": true,\n        \"pushed_at\": \"2019-05-15T15:20:32Z\",\n        \"created_at\": \"2019-05-15T15:19:25Z\",\n        \"has_issues\": true,\n        \"mirror_url\": null,\n        \"updated_at\": \"2019-05-15T15:19:27Z\",\n        \"description\": null,\n        \"forks_count\": 0,\n        \"open_issues\": 2,\n        \"has_projects\": true,\n        \"has_downloads\": true,\n        \"default_branch\": \"master\",\n        \"watchers_count\": 0,\n        \"stargazers_count\": 0,\n        \"open_issues_count\": 2,\n        \"allow_merge_commit\": true,\n        \"allow_rebase_merge\": true,\n        \"allow_squash_merge\": true,\n        \"delete_branch_on_merge\": false\n      },\n      \"user\": {\n        \"id\": 21031067,\n        \"login\": \"Codertocat\"\n      },\n      \"label\": \"Codertocat:master\"\n    },\n    \"body\": \"This is a pretty simple change that we need to pull into master.\",\n    \"head\": {\n      \"ref\": \"changes\",\n      \"sha\": \"ec26c3e57ca3a959ca5aad62de7213c562f8c821\",\n      \"repo\": {\n        \"id\": 186853002,\n        \"url\": \"https://api.github.com/repos/Codertocat/Hello-World\",\n        \"fork\": false,\n        \"name\": \"Hello-World\",\n        \"size\": 0,\n        \"forks\": 0,\n        \"owner\": {\n          \"id\": 21031067,\n          \"login\": \"Codertocat\"\n        },\n        \"git_url\": \"git://github.com/Codertocat/Hello-World.git\",\n        \"license\": null,\n        \"node_id\": \"MDEwOlJlcG9zaXRvcnkxODY4NTMwMDI=\",\n        \"private\": false,\n        \"ssh_url\": \"git@github.com:Codertocat/Hello-World.git\",\n        \"svn_url\": \"https://github.com/Codertocat/Hello-World\",\n        \"archived\": false,\n        \"disabled\": false,\n        \"has_wiki\": true,\n        \"homepage\": null,\n        \"html_url\": \"https://github.com/Codertocat/Hello-World\",\n        \"language\": null,\n        \"watchers\": 0,\n        \"clone_url\": \"https://github.com/Codertocat/Hello-World.git\",\n        \"full_name\": \"Codertocat/Hello-World\",\n        \"has_pages\": true,\n        \"pushed_at\": \"2019-05-15T15:20:32Z\",\n        \"created_at\": \"2019-05-15T15:19:25Z\",\n        \"has_issues\": true,\n        \"mirror_url\": null,\n        \"updated_at\": \"2019-05-15T15:19:27Z\",\n        \"description\": null,\n        \"forks_count\": 0,\n        \"open_issues\": 2,\n        \"has_projects\": true,\n        \"has_downloads\": true,\n        \"default_branch\": \"master\",\n        \"watchers_count\": 0,\n        \"stargazers_count\": 0,\n        \"open_issues_count\": 2,\n        \"allow_merge_commit\": true,\n        \"allow_rebase_merge\": true,\n        \"allow_squash_merge\": true,\n        \"delete_branch_on_merge\": false\n      },\n      \"user\": {\n        \"id\": 21031067,\n        \"login\": \"Codertocat\"\n      },\n      \"label\": \"Codertocat:changes\"\n    },\n    \"user\": {\n      \"id\": 21031067,\n      \"login\": \"Codertocat\"\n    },\n    \"draft\": false,\n    \"state\": \"open\",\n    \"title\": \"Update the README with new information.\",\n    \"_links\": {\n      \"html\": {\n        \"href\": \"https://github.com/Codertocat/Hello-World/pull/2\"\n      },\n      \"self\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2\"\n      },\n      \"issue\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/issues/2\"\n      },\n      \"commits\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2/commits\"\n      },\n      \"comments\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/issues/2/comments\"\n      },\n      \"statuses\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/statuses/ec26c3e57ca3a959ca5aad62de7213c562f8c821\"\n      },\n      \"review_comment\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/comments{/number}\"\n      },\n      \"review_comments\": {\n        \"href\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2/comments\"\n      }\n    },\n    \"labels\": [],\n    \"locked\": false,\n    \"merged\": false,\n    \"number\": 2,\n    \"commits\": 1,\n    \"node_id\": \"MDExOlB1bGxSZXF1ZXN0Mjc5MTQ3NDM3\",\n    \"assignee\": null,\n    \"comments\": 0,\n    \"diff_url\": \"https://github.com/Codertocat/Hello-World/pull/2.diff\",\n    \"html_url\": \"https://github.com/Codertocat/Hello-World/pull/2\",\n    \"additions\": 1,\n    \"assignees\": [],\n    \"closed_at\": null,\n    \"deletions\": 1,\n    \"issue_url\": \"https://api.github.com/repos/Codertocat/Hello-World/issues/2\",\n    \"mergeable\": null,\n    \"merged_at\": null,\n    \"merged_by\": null,\n    \"milestone\": null,\n    \"patch_url\": \"https://github.com/Codertocat/Hello-World/pull/2.patch\",\n    \"created_at\": \"2019-05-15T15:20:33Z\",\n    \"rebaseable\": null,\n    \"updated_at\": \"2019-05-15T15:20:33Z\",\n    \"commits_url\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2/commits\",\n    \"comments_url\": \"https://api.github.com/repos/Codertocat/Hello-World/issues/2/comments\",\n    \"statuses_url\": \"https://api.github.com/repos/Codertocat/Hello-World/statuses/ec26c3e57ca3a959ca5aad62de7213c562f8c821\",\n    \"changed_files\": 1,\n    \"mergeable_state\": \"unknown\",\n    \"requested_teams\": [],\n    \"review_comments\": 0,\n    \"merge_commit_sha\": null,\n    \"author_association\": \"OWNER\",\n    \"review_comment_url\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/comments{/number}\",\n    \"requested_reviewers\": [],\n    \"review_comments_url\": \"https://api.github.com/repos/Codertocat/Hello-World/pulls/2/comments\",\n    \"maintainer_can_modify\": false\n  }\n}","type":"json","structure":[]},{"id":"webhook_documentation","value":null,"type":"string","structure":{}}],"settings":[{"id":"datasource","value":"d5a2f670-24f3-11ec-a62d-fde4aef67c11","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"logo":"https://d3943gebd10mx7.cloudfront.net/image/logos/a2e80ed47e8740769dd715947f347a85.png"},{"id":"220D73FB-E948-4DEF-B5B7-20504EC5B7C1","type":"SnippetBlock","x":188,"y":334,"disabled":false,"name":"DoReload","displayName":"Qlik Cloud Services - Do Reload","comment":"Test app reload","childId":"4875A168-1905-4F6B-AF55-94A4FA14D571","inputs":[{"id":"29603390-e716-11ea-9e37-05e08ee32111","value":null,"type":"string","structure":[]},{"id":"2ac9eef0-a677-11eb-aacc-8b755d0fe484","value":"Wait for reload to complete","type":"select","displayValue":"Wait for reload to complete","structure":[]},{"id":"6892c0c0-c795-11eb-9860-9dc8cb705e25","value":null,"type":"select","structure":[]},{"id":"ecebf340-c797-11eb-8671-53658babb1a1","value":null,"type":"select","structure":[]}],"settings":[{"id":"datasource","value":"3c33d3a0-04d6-11ec-8e0a-fd63fbdd6c3f","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"b5dbb7a0-e715-11ea-b2bf-43bb35adee19"},{"id":"4875A168-1905-4F6B-AF55-94A4FA14D571","type":"SnippetBlock","x":104,"y":301,"disabled":false,"name":"getMeasureValue","displayName":"Qlik Cloud Services - Get Measure Value","comment":"Test get measure value","childId":"D1E607AB-FDCC-4E00-8E41-6EB201ECF9DB","inputs":[{"id":"7fd1a6b0-04b1-11ec-bf03-790adec74209","value":null,"type":"string","structure":[]},{"id":"bcfddcf0-04b7-11ec-8852-cfe6ca106bb5","value":null,"type":"string","structure":[]}],"settings":[{"id":"datasource","value":"3c33d3a0-04d6-11ec-8e0a-fd63fbdd6c3f","type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"7fc83720-04b1-11ec-8bd4-7fc20db0a174"},{"id":"D1E607AB-FDCC-4E00-8E41-6EB201ECF9DB","type":"EndpointBlock","x":109,"y":302,"disabled":false,"name":"addComment","displayName":"GitHub - Add Comment","comment":"Add test results as comment to pull request (PR)","childId":"04313CB9-A87D-44D2-850B-3C63C940F3ED","inputs":[{"id":"49e8c020-3580-11ec-86ab-59d3dbafb2bc","value":null,"type":"string","structure":[]},{"id":"49e50900-3580-11ec-8ba6-8d34a53446bd","value":null,"type":"string","structure":[]},{"id":"49ef6740-3580-11ec-90c2-c16eb2e4f152","value":"{$.OnNewPullRequest.pull_request.number}","type":"string","structure":[]},{"id":"7968db70-3580-11ec-aabf-e72652f6e395","value":"Result of tests on Qlik Sense app: {linebreak}\nReload of app: {$.DoReload.status} {linebreak}\nGet measure value: { $.getMeasureValue }","type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"49d54e40-3580-11ec-bc8f-614a308217f1","endpoint_role":"update"},{"id":"41587A47-2825-457A-8CBD-BCD433DAC4C4","type":"IfElseBlock","x":106,"y":184,"disabled":false,"name":"condition","displayName":"Condition","comment":"Action = opened ? (not e.g. \"closed\")","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.OnNewPullRequest.action}","operator":"=","input2":"opened"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"220D73FB-E948-4DEF-B5B7-20504EC5B7C1","childFalseId":null},{"id":"04313CB9-A87D-44D2-850B-3C63C940F3ED","type":"EndpointBlock","x":232.4768524169922,"y":633.0690612792969,"disabled":false,"name":"addPullRequestReview","displayName":"GitHub - Add Pull Request Review","comment":"Approve the PR (alternative to just adding a comment)","childId":null,"inputs":[{"id":"43f69db0-46b7-11ec-85cd-b5e54406d83c","value":null,"type":"string","structure":[]},{"id":"43fcbc50-46b7-11ec-bcaa-eb1f4cbfff07","value":null,"type":"string","structure":[]},{"id":"44092a30-46b7-11ec-b32e-d9af2f6c78a3","value":"{$.OnNewPullRequest.pull_request.number}","type":"string","structure":[]},{"id":"a76a0160-46b7-11ec-95be-9d0d2821452a","value":"APPROVE","type":"select","structure":[]},{"id":"c7aaf1b0-46b7-11ec-8a34-f552e8fe8951","value":"Approved based on automated tests","type":"string","structure":[]},{"id":"d91a6a00-46b7-11ec-93d4-333111c21d86","value":null,"type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"43d45100-46b7-11ec-965e-750e76cca2ec","endpoint_role":"create"}],"variables":[]}